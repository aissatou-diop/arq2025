<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Nuage de mots Risques</title>
  <script src="https://cdn.jsdelivr.net/npm/wordcloud@1.1.2/src/wordcloud2.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f4f4;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    h1 {
      color: #2d3436;
    }

    #canvasContainer {
      width: 100%;
      max-width: 900px;
      margin: auto;
      background: #fff;
      border: 2px solid #dfe6e9;
      border-radius: 10px;
      padding: 20px;
      position: relative;
    }

    canvas {
      width: 100% !important;
      height: auto !important;
    }

    .tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 6px 10px;
      border-radius: 5px;
      font-size: 14px;
      display: none;
      pointer-events: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <h1>üå•Ô∏è Nuage de Mots ‚Äì Risques & Contr√¥les</h1>
  <div id="canvasContainer">
    <canvas id="wordCloudCanvas"></canvas>
    <div id="tooltip" class="tooltip"></div>
  </div>

  <script>
    const words = [
      ['Risk', 35], ['Risk analysis', 30], ['Risk mapping', 28], ['Risk appetite', 25], ['Risk tolerance', 25],
      ['Risk identification', 30], ['Risk assessment', 28], ['Risk treatment', 26], ['Risk base', 22],
      ['Evaluation grid', 20], ['Residual risk', 23], ['Gross risk', 22], ['Proven risk', 20],
      ['Probability', 22], ['Severity', 22], ['Impact', 26], ['Maturity', 20], ['Criticality', 21],
      ['Key Risk Indicator (KRI)', 28], ['Overall criticality index', 25], ['Top risks', 22],
      ['Priority risk', 22], ['Unacceptable risks', 22], ['Risk committee', 24],
      ['Business risks', 23], ['Project risks', 23], ['OHS risks', 23], ['Environmental risks', 23],
      ['Risk advisor', 20], ['Crisis management', 25], ['Risk audit', 24], ['Internal control', 28],
      ['COSO', 20], ['Control process', 22], ['Control environment', 22], ['Preventive control', 22],
      ['Detective control', 22], ['Corrective control', 22], ['Segregation of duties', 20],
      ['Control testing', 22], ['Internal control documentation', 20], ['Control deficiency', 22],
      ['Ongoing monitoring', 22], ['Corrective action plan', 22], ['Internal audit', 24],
      ['Compliance', 22], ['Governance', 22], ['Business process', 22], ['Key Performance Indicator (KPI)', 25],
      ['Fraud', 22], ['ISO standards (e.g., ISO 31000)', 25], ['Due diligence', 22],
      ['Risk dashboard', 22], ['Business Continuity Plan (BCP)', 22], ['Business Impact Analysis (BIA)', 22],
      ['BCMS', 22], ['RTO', 20], ['RPO', 20], ['MTPD', 20], ['Level of service (LOS)', 20],
      ['Work Area Recovery (WAR)', 20], ['Disaster Recovery Plan (DRP)', 22], ['ISO standards (e.g., ISO 22301)', 20],
      ['Treshold for crisis alert', 20], ['Control kit', 20], ['Identification of controls', 22],
      ['Control label', 20], ['Supporting documents for the control', 20],
      ['Deployment of controls', 20], ['Taking charge of controls', 20],
      ['Implementation of controls', 22], ['First-level controls', 20], ['Second-level controls', 20],
      ['Identification of control owners', 20], ['Execution of controls', 20],
      ['Description of control execution steps', 20], ['Review of control implementation', 20],
      ['Identification of discrepancies', 20], ['Evidence of control execution', 20],
      ['Monitoring of action plans', 20], ['Internal control report', 20],
      ['Exhaustiveness of controls', 20], ['Coverage of controls', 20], ['Control periodicity', 20],
      ['Control owner', 20], ['Control assignment', 20], ['Internal control invariant', 20],
      ['Approved control', 20], ['Validated control', 20], ['Control to be implemented', 20],
      ['Common control management framework', 20]
    ];

    const translations = {
      "Risk": "Risque",
      "Risk analysis": "Analyse des risques",
      "Risk mapping": "Cartographie des risques",
      "Risk appetite": "App√©tence au risque",
      "Risk tolerance": "Tol√©rance au risque",
      "Risk identification": "Identification des risques",
      "Risk assessment": "√âvaluation des risques",
      "Risk treatment": "Traitement des risques",
      "Risk base": "Base risques",
      "Evaluation grid": "Grille d'√©valuation",
      "Residual risk": "Risque r√©siduel",
      "Gross risk": "Risque brut",
      "Proven risk": "Risque av√©r√©",
      "Probability": "Probabilit√©",
      "Severity": "Gravit√©",
      "Impact": "Impact",
      "Maturity": "Maturit√©",
      "Criticality": "Criticit√©",
      "Key Risk Indicator (KRI)": "Indicateur de risque cl√© (KRI)",
      "Overall criticality index": "Indice de Criticit√© Global",
      "Top risks": "Top risques",
      "Priority risk": "Risques prioritaires",
      "Unacceptable risks": "Risques inacceptables",
      "Risk committee": "Comit√© risques",
      "Business risks": "Risques m√©tier",
      "Project risks": "Risques projet",
      "OHS risks (occupational health and safety)": "Risques SST (Sant√© et s√©curit√© au travail)",
      "Environmental risks": "Risques Environnement",
      "Risk advisor": "Risk advisor",
      "Crisis management": "Gestion de crise",
      "Risk audit": "Audit des risques",
      "Internal control": "Contr√¥le interne",
      "COSO": "COSO",
      "Control process": "Processus de contr√¥le",
      "Control environment": "Environnement de contr√¥le",
      "Preventive control": "Contr√¥le pr√©ventif",
      "Detective control": "Contr√¥le d√©tectif",
      "Corrective control": "Contr√¥le correctif",
      "Segregation of duties": "S√©paration des t√¢ches",
      "Control testing": "Test de contr√¥le",
      "Internal control documentation": "Dossier de contr√¥le interne",
      "Control deficiency": "D√©ficience de contr√¥le",
      "Ongoing monitoring": "Surveillance continue",
      "Corrective action plan": "Plan d‚Äôaction correctif",
      "Internal audit": "Audit interne",
      "Compliance": "Conformit√©",
      "Governance": "Gouvernance",
      "Business process": "Processus m√©tier",
      "Key Performance Indicator (KPI)": "Indicateur de performance (KPI)",
      "Fraud": "Fraude",
      "ISO standards (e.g., ISO 31000)": "Normes ISO (ex : ISO 31000)",
      "Due diligence": "Due diligence",
      "Risk dashboard": "Tableau de bord risques",
      "Business Continuity Plan (BCP)": "Plan de continuit√© d‚Äôactivit√© (PCA)",
      "Business Impact Analysis (BIA)": "Analyse d'impact sur les activit√©s (AIA)",
      "Business Continuity Management System (BCMS)": "Syst√®me de management de la Continuit√© d'activit√© (SMCA)",
      "Recovery Time Objective (RTO)": "Objectif de d√©lai de reprise d'activit√©",
      "Recovery Point Objective (RPO)": "Objectif de point de restauration",
      "Maximum Tolerable Period of Disruption (MTPD)": "Dur√©e Maximale d'interruption acceptable (DMIA)",
      "Level of service (LOS)": "Niveau de Service",
      "Work Area Recovery (WAR)": "R√©cup√©ration de la zone de travail",
      "Disaster Recovery Plan (DRP)": "Plan de Reprise d'activit√©",
      "Treshold for crisis alert": "Seuil d'alerte crise",
      "Control kit": "Kit de contr√¥le",
      "Identification of controls": "Identification des contr√¥les",
      "Control label": "Libell√© du contr√¥le",
      "Supporting documents for the control": "Pi√®ces justificatives du contr√¥le",
      "Deployment of controls": "D√©ploiement des contr√¥les",
      "Taking charge of controls": "Prise en charge des contr√¥les",
      "Implementation of controls": "Mise en ≈ìuvre des contr√¥les",
      "First-level controls": "Contr√¥les de 1er niveau",
      "Second-level controls": "Contr√¥les de 2√®me niveau",
      "Identification of control owners": "Identification des porteurs de contr√¥le",
      "Execution of controls": "R√©alisation des contr√¥les",
      "Description of control execution steps": "Description des √©tapes de r√©alisation du contr√¥le",
      "Review of control implementation": "Revue de la mise en ≈ìuvre des contr√¥les",
      "Identification of discrepancies": "Identification des √©carts",
      "Evidence of control execution": "Preuve de r√©alisation des contr√¥les",
      "Monitoring of action plans": "Suivi des plans d'action",
      "Internal control report": "Rapport de contr√¥le interne",
      "Exhaustiveness of controls": "Exhaustivit√© des contr√¥les",
      "Coverage of controls": "Couverture des contr√¥les",
      "Control periodicity": "P√©riodicit√© des contr√¥les",
      "Control owner": "Responsable de contr√¥le",
      "Control assignment": "Affectation du contr√¥le",
      "Internal control invariant": "Invariant du contr√¥le interne",
      "Approved control": "Contr√¥le approuv√©",
      "Validated control": "Contr√¥le valid√©",
      "Control to be implemented": "Contr√¥le √† impl√©menter",
      "Common control management framework": "R√©f√©rentiel commun de gestion des contr√¥les"
    };

    const canvas = document.getElementById("wordCloudCanvas");
    const tooltip = document.getElementById("tooltip");

    function drawCloud() {
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetWidth;

      WordCloud(canvas, {
        list: words,
        gridSize: 10,
        weightFactor: size => (canvas.width / 1024) * size,
        fontFamily: 'Segoe UI',
        color: () => `hsl(${Math.random() * 360}, 80%, 60%)`,
        backgroundColor: '#ffffff',
        hover: function (item, dimension, event) {
          if (item) {
            const word = item[0];
            tooltip.innerHTML = `<strong>${word}</strong><br>${translations[word] || ''}`;
            tooltip.style.left = `${event.pageX + 10}px`;
            tooltip.style.top = `${event.pageY + 10}px`;
            tooltip.style.display = 'block';
          } else {
            tooltip.style.display = 'none';
          }
        }
      });
    }

    window.onload = drawCloud;
    window.onresize = () => {
      tooltip.style.display = 'none';
      drawCloud();
    };
  </script>
</body>
</html>
