<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Carrousel Nuage de Mots</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.1.2/wordcloud2.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .carousel-item {
      height: 80vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    canvas {
      max-width: 100%;
      max-height: 100%;
    }
  </style>
</head>
<body>

<div class="container mt-4">
  <h2 class="text-center mb-4">ðŸŒˆ Carrousel de Nuages de Mots</h2>

  <div id="cloudCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">

      <div class="carousel-item active"><canvas id="cloud1"></canvas></div>
      <div class="carousel-item"><canvas id="cloud2"></canvas></div>
      <div class="carousel-item"><canvas id="cloud3"></canvas></div>

    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#cloudCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#cloudCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const colors = ['#FFA500', '#4CAF50', '#007BFF', '#FFC107', '#DC3545', '#6F42C1', '#17A2B8', '#FF69B4'];

  const wordPairs = [
    ['Risque', 'Risk'], ['Analyse des risques', 'Risk analysis'], ['Cartographie des risques', 'Risk mapping'],
    ['AppÃ©tence au risque', 'Risk appetite'], ['TolÃ©rance au risque', 'Risk tolerance'], ['Identification des risques', 'Risk identification'],
    ['Ã‰valuation des risques', 'Risk assessment'], ['Traitement des risques', 'Risk treatment'], ['Base risques', 'Risk base'],
    ['Grille d\'avaluation', 'Evaluation grid'], ['Risque rÃ©siduel', 'Residual risk'], ['Risque brut', 'Gross risk'],
    ['Risque avÃ©rÃ©', 'Proven risk'], ['ProbabilitÃ©', 'Probability'], ['GravitÃ©', 'Severity'], ['Impact', 'Impact'],
    ['MaturitÃ©', 'Maturity'], ['CriticitÃ©', 'Criticality'], ['Indicateur de risque clÃ© (KRI)', 'Key Risk Indicator (KRI)'],
    ['ICG', 'Overall criticality index'], ['Top risques', 'Top risks'], ['Risques prioritaires', 'Priority risk'],
    ['Risques inacceptables', 'Unacceptable risks'], ['ComitÃ© risques', 'Risk committee'], ['Risques mÃ©tier', 'Business risks'],
    ['Risques projet', 'Project risks'], ['Risques SST', 'OHS risks'], ['Risques Environnement', 'Environmental risks'],
    ['Risk advisor', 'Risk advisor'], ['Gestion de crise', 'Crisis management'], ['Audit des risques', 'Risk audit'],
    ['ContrÃ´le interne', 'Internal control'], ['COSO', 'COSO'], ['Processus de contrÃ´le', 'Control process'],
    ['Environnement de contrÃ´le', 'Control environment'], ['ContrÃ´le prÃ©ventif', 'Preventive control'], ['ContrÃ´le dÃ©tectif', 'Detective control'],
    ['ContrÃ´le correctif', 'Corrective control'], ['SÃ©paration des tÃ¢ches', 'Segregation of duties'], ['Test de contrÃ´le', 'Control testing'],
    ['Dossier de contrÃ´le interne', 'Internal control documentation'], ['DÃ©ficience de contrÃ´le', 'Control deficiency'],
    ['Surveillance continue', 'Ongoing monitoring'], ['Plan dâ€™action correctif', 'Corrective action plan'], ['Audit interne', 'Internal audit'],
    ['ConformitÃ©', 'Compliance'], ['Gouvernance', 'Governance'], ['Processus mÃ©tier', 'Business process'],
    ['Indicateur de performance (KPI)', 'Key Performance Indicator (KPI)'], ['Fraude', 'Fraud'],
    ['Normes ISO', 'ISO standards'], ['Tableau de bord risques', 'Risk dashboard'],
    ['Plan de continuitÃ© dâ€™activitÃ© (PCA)', 'Business Continuity Plan (BCP)'], ['Analyse d\'impact', 'Business Impact Analysis (BIA)'],
    ['SMCA', 'Business Continuity Management System (BCMS)'], ['RTO', 'Recovery Time Objective (RTO)'],
    ['RPO', 'Recovery Point Objective (RPO)'], ['DMIA', 'Maximum Tolerable Period of Disruption (MTPD)'],
    ['Niveau de Service', 'Level of service (LOS)'], ['WAR', 'Work Area Recovery (WAR)'],
    ['DRP', 'Disaster Recovery Plan (DRP)'], ['Seuil d\'alerte crise', 'Treshold for crisis alert'],
    ['Kit de contrÃ´le', 'Control kit'], ['Identification des contrÃ´les', 'Identification of controls'],
    ['LibellÃ© du contrÃ´le', 'Control label'], ['PiÃ¨ces justificatives', 'Supporting documents'],
    ['DÃ©ploiement des contrÃ´les', 'Deployment of controls'], ['Prise en charge', 'Taking charge of controls'],
    ['Mise en Å“uvre', 'Implementation of controls'], ['1er niveau', 'First-level controls'], ['2Ã¨me niveau', 'Second-level controls'],
    ['Porteurs de contrÃ´le', 'Control owners'], ['RÃ©alisation des contrÃ´les', 'Execution of controls'],
    ['Description des Ã©tapes', 'Description of control execution steps'], ['Revue de la mise en Å“uvre', 'Review of control implementation'],
    ['Identification des Ã©carts', 'Identification of discrepancies'], ['Preuve de rÃ©alisation', 'Evidence of control execution'],
    ['Suivi des plans d\'action', 'Monitoring of action plans'], ['Rapport de contrÃ´le', 'Internal control report'],
    ['ExhaustivitÃ© des contrÃ´les', 'Exhaustiveness of controls'], ['Couverture des contrÃ´les', 'Coverage of controls'],
    ['PÃ©riodicitÃ©', 'Control periodicity'], ['Responsable de contrÃ´le', 'Control owner'],
    ['Affectation du contrÃ´le', 'Control assignment'], ['Invariant du contrÃ´le', 'Internal control invariant'],
    ['ContrÃ´le approuvÃ©', 'Approved control'], ['ContrÃ´le validÃ©', 'Validated control'], ['ContrÃ´le Ã  implÃ©menter', 'Control to be implemented'],
    ['RÃ©fÃ©rentiel commun', 'Common control management framework']
  ];

  // MÃ©lange et sÃ©paration
  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  const shuffled = shuffle([...wordPairs]);
  const third = Math.ceil(shuffled.length / 3);
  const words1 = shuffled.slice(0, third);
  const words2 = shuffled.slice(third, 2 * third);
  const words3 = shuffled.slice(2 * third);

  const toList = (pairs) => pairs.map(([fr, en]) => [en, Math.floor(Math.random() * 40) + 20]);

  const options = (canvasId, list) => ({
    list: toList(list),
    gridSize: 12,
    weightFactor: 3,
    fontFamily: 'Segoe UI, sans-serif',
    color: () => colors[Math.floor(Math.random() * colors.length)],
    rotateRatio: 0.5,
    backgroundColor: '#f8f9fa',
    origin: [canvasId.width/2, canvasId.height/2],
  });

  window.onload = () => {
    WordCloud(document.getElementById('cloud1'), options(document.getElementById('cloud1'), words1));
    WordCloud(document.getElementById('cloud2'), options(document.getElementById('cloud2'), words2));
    WordCloud(document.getElementById('cloud3'), options(document.getElementById('cloud3'), words3));
  };
</script>

</body>
</html>
